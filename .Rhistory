AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
print(Omega)
Omega$schmid$oblique
Omega<-omega(Interés, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
Omega$schmid$oblique
summary(AptitudC)
EscalaI<-Scale(AptitudC)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
AnalisisI$rely$alpha
Omega<-omega(AptitudC, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
summary(Habilidad)
EscalaI<-Scale(Habilidad)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
Omega<-omega(Habilidad, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
Omega$schmid$oblique
summary(fit, rsquare=TRUE, standardized=TRUE, fit.measures=TRUE)
fit<-cfa(model=mod, data= A,  missing='fiml')
summary(fit, rsquare=TRUE, standardized=TRUE, fit.measures=TRUE)
semPaths(fit, whatLabels = "std", layout = "tree")
mod<-'
Interés=~`1`+`2`+`3`+`11`+`12`+`13`+`14`+`15`+`22`+`23`+`24`
AptitudC=~`4`+`6`+`8`+`16`+`17`+`18`+`19`+`25`
Habilidad=~`5`+`7`+`9`+`10`+`20`+`21`+`26`+`27`+`28`
fit<-cfa(model=mod, data= A,  missing='fiml')
mod<-'
Interés=~`1`+`2`+`3`+`11`+`12`+`13`+`14`+`15`+`22`+`23`+`24`
AptitudC=~`4`+`6`+`8`+`16`+`17`+`18`+`19`+`25`
Habilidad=~`5`+`7`+`9`+`10`+`20`+`21`+`26`+`27`+`28`
'
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Potencial En mi Familia")
mod<-'
Interés=~`1`+`2`+`3`+`11`+`12`+`13`+`14`+`15`+`22`+`23`+`24`
AptitudC=~`4`+`6`+`8`+`16`+`17`+`18`+`19`+`25`
Habilidad=~`5`+`7`+`9`+`10`+`20`+`21`+`26`+`27`+`28`
'
fit<-cfa(model=mod, data= A,  missing='fiml')
summary(fit, rsquare=TRUE, standardized=TRUE, fit.measures=TRUE)
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Potencial De Mi Estudiante")
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Potencial De Mi Estudiante")
Interés<-A[,c("1","2","3","4","5","6","15","23","24","25","26")]
AptitudC<-A[,c("7","8","10","14","16","17","18","19","27","28","31")]
Habilidad<-A[,c("9","11","12","13","20","21","22","29","30","32","33")]
summary(Interés)
EscalaI<-Scale(Interés)
EscalaI<-Scale(Interés)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
Omega<-omega(Interés, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
summary(AptitudC)
EscalaI<-Scale(AptitudC)
EscalaI<-Scale(AptitudC)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
summary(Interés)
EscalaI<-Scale(Interés)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
summary(AptitudC)
EscalaI<-Scale(AptitudC)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
print(AnalisisI)
Omega<-omega(AptitudC, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
AnalisisI$valid$bartlett
AnalisisI$valid$kmo
summary(Habilidad)
EscalaI<-Scale(Habilidad)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Potencial De Mi Estudiante")
Habilidad<-A[,c("9","11","12","13","20","21","22","29","30","32","33")]
EscalaI<-Scale(Habilidad)
EscalaI<-Scale(Habilidad)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
Omega<-omega(Habilidad, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
Omega$schmid$oblique
mod<-'
Interés=~`1`+`2`+`3`+`4`+`5`+`6`+`15`+`23`+`24`+`25`+`26`
AptitudC=~`7`+`8`+`10`+`14`+`16`+`17`+`18`+`19`+`27`+`28`+`31`
Habilidad=~`9`+`11`+`12`+`13`+`20`+`21`+`22`+`29`+`30`+`32`+`33`
'
fit<-cfa(model=mod, data= A,  missing='fiml')
summary(fit, rsquare=TRUE, standardized=TRUE, fit.measures=TRUE)
library(readxl)
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Potencial En mi Familia")
Interés<-A[,c("1","2","3","6","7","11","12","19","20","21")]
AptitudC<-A[,c("4","5","8","13","14","15","22","24","25")]
Habilidad<-A[,c("9","10","16","17","18","23","26","27","28","29")]
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Potencial En mi Familia")
Interés<-A[,c("1","2","3","11","12","13","14","15","22","23","24")]
AptitudC<-A[,c("4","5","8","16","17","18","19","22")]
Habilidad<-A[,c("5","7","9","10","20","21","26","27","28")]
summary(Interés)
EscalaI<-Scale(Interés)
EscalaI<-Scale(Interés)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
library(readxl)
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Mi Potencial (11-17)")
Interés<-A[,c("1","2","3","6","7","11","12","19","20","21")]
AptitudC<-A[,c("4","5","8","13","14","15","22","24","25")]
Habilidad<-A[,c("9","10","16","17","18","23","26","27","28","29")]
summary(Interés)
EscalaI<-Scale(Interés)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
Omega<-omega(Interés, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
EscalaI<-Scale(AptitudC)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
Omega<-omega(AptitudC, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
EscalaI<-Scale(Habilidad)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
Omega<-omega(Habilidad, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
mod<-'
Interés=~`1`+`2`+`3`+`6`+`7`+`11`+`12`+`19`+`20`+`21`
AptitudC=~`4`+`5`+`8`+`13`+`14`+`15`+`22`+`24`+`25`
Habilidad=~`9`+`10`+`16`+`17`+`18`+`23`+`26`+`27`+`28`+`29`
'
fit<-cfa(model=mod, data= A,  missing='fiml')
summary(fit, rsquare=TRUE, standardized=TRUE, fit.measures=TRUE)
library(readxl)
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Potencial En mi Familia")
Interés<-A[,c("1","2","3","11","12","13","14","15","22","23","24")]
AptitudC<-A[,c("4","6","8","16","17","18","19","25")]
Habilidad<-A[,c("5","7","9","10","20","21","26","27","28")]
summary(Interés)
EscalaI<-Scale(Interés)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
library(readxl)
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Guia Familia 4-7")
Interés<-A[,c("1","2","3","4","5","6","15","21","22","23","24")]
AptitudC<-A[,c("7","8","10","14","16","17","18","25","26","28")]
Habilidad<-A[,c("9","11","12","13","19","20","27","29","30")]
library(readxl)
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Guia Docente 4-7")
Interés<-A[,c("1","2","3","4","5","6","15","21","22","23","24")]
AptitudC<-A[,c("7","8","10","14","16","17","18","25","26","28")]
Habilidad<-A[,c("9","11","12","13","19","20","27","29","30")]
EscalaI<-Scale(Interés)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
Omega<-omega(Interés, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
EscalaI<-Scale(AptitudC)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
Omega<-omega(AptitudC, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
summary(Habilidad)
EscalaI<-Scale(Habilidad)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
AnalisisI$rely$alpha
Omega<-omega(Habilidad, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
library(readxl)
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Guia Familia 4-7")
Interés<-A[,c("1","2","3","4","5","6","15","21","22","23","24")]
AptitudC<-A[,c("7","8","10","14","16","17","18","25","26","28")]
Habilidad<-A[,c("9","11","12","13","19","20","27","29","30")]
Interés<-A[,c("1","2","3",11","12","13","14","19","20","21")]
Interés<-A[,c("1","2","3","11","12","13","14","19","20","21")]
Interés<-A[,c("1","2","3","11","12","13","14","19","20","21")]
AptitudC<-A[,c("4","6","8","15","16","17","22")]
Habilidad<-A[,c("5","7","9","10","18","23","24","25")]
summary(Interés)
EscalaI<-Scale(Interés)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
print.reliability(AnalisisI$rely)
Omega<-omega(Interés, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
Omega$schmid$oblique
AnalisisI$valid$kmo
summary(AptitudC)
EscalaI<-Scale(AptitudC)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
Omega<-omega(AptitudC, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
summary(Habilidad)
EscalaI<-Scale(Habilidad)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$kmo
Omega<-omega(Habilidad, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3)
print(Omega)
library(readxl)
library(psych)
library(Scale)
library(psy)
library(apaTables)
library(GPArotation)
library(lavaan)
library(semPlot)
library(GPArotation)
library(readxl)
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Potencial En mi Familia")
Interés<-A[,c("1","2","3","11","12","13","14","19","20","21")]
AptitudC<-A[,c("4","6","8","15","16","17","22")]
Habilidad<-A[,c("5","7","9","10","18","23","24","25")]
library(readxl)
A<- read_excel("~/Desktop/Calificación 4-7/Calificación_caracterización CYOTE.xlsx",
sheet = "Potencial En mi Familia")
Interés<-A[,c("1","2","3","11","12","13","14","15","22","23","24")]
AptitudC<-A[,c("4","6","8","16","17","18","19","25")]
Habilidad<-A[,c("5","7","9","10","20","21","26","27","28")]
summary(Interés)
EscalaI<-Scale(Interés)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
AnalisisI$valid$bartlett
AnalisisI$valid$kmo
print.reliability(AnalisisI$rely)
print(AnalisisI)
GetScores(AnalisisI)
AnalisisI$rely$alpha
ReportTable(AnalisisI)
summary(AptitudC)
EscalaI<-Scale(AptitudC)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
EscalaI<-Scale(Habilidad)
AnalisisI<-ItemAnalysis(EscalaI, nfactors=1, method="polychoric",fm="ols")
ReportTable(AnalisisI)
sample(1:4,30,replace = F)
sample(1:30,10,replace=F)
sample(1:4,10,replace=F)
sample(1:4,10,replace=T)
sample(1:4,50,replace=T)
A<-sample(1:4,50,replace=T)
A<-sample(1:4,50,replace=T)
A<-as.data.frame(A)
A<-sample(1:4,50,replace=T)
B<-sample(1:4,50,replace=T)
C<-sample(1:4,50,replace=T)
A<-as.data.frame(A,B,C)
D<-C(A,B,C)
cbind.data.frame(A,B,C)
A<-sample(1:4,50,replace=T)
B<-sample(1:4,50,replace=T)
C<-sample(1:4,50,replace=T)
cbind.data.frame(A,B,C)
Datos<-cbind.data.frame(It1,It2,It3,It4)
It1<-sample(1:4,50,replace=T)
It2<-sample(1:4,50,replace=T)
It3<-sample(1:4,50,replace=T)
It4<-sample(1:4,50,replace=T)
It1<-sample(1:4,50,replace=T)
It2<-sample(1:4,50,replace=T)
It3<-sample(1:4,50,replace=T)
It4<-sample(1:4,50,replace=T)
Datos<-cbind.data.frame(It1,It2,It3,It4)
View(Datos)
library(readxl)
library(psych)
library(Scale)
library(psy)
library(apaTables)
library(GPArotation)
library(lavaan)
library(semPlot)
library(GPArotation)
EscalaG<-Scale(Datos) #Transforma los datos a otro formato#
AnalisisG<-ItemAnalysis(EscalaG, nfactors=1, method="polychoric",fm="ols") #Realiza cálculos análisis ítems politómicos#
ReportTable(AnalisisG)
AnalisisG$valid$bartlett #Test Bartlett#
print.reliability(AnalisisG$rely) #Resumen análisis Fiabilidad#
Omega<-omega(Datos, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3) #Omega a partir de matríx de correlaciones Policóricas#
print(Omega) #Resutado Omega#
It1<-sample(1:4,1500,replace=T)
It2<-sample(1:4,1500,replace=T)
It3<-sample(1:4,1500,replace=T)
It4<-sample(1:4,1500,replace=T)
Datos2<-cbind.data.frame(It1,It2,It3,It4)
print.reliability(AnalisisG$rely) #Resumen análisis Fiabilidad#
Omega<-omega(Datos, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3) #Omega a partir de matríx de correlaciones Policóricas#
View(Datos2)
It1<-sample(1:4,25000,replace=T)
It2<-sample(1:4,25000,replace=T)
It3<-sample(1:4,25000,replace=T)
It4<-sample(1:4,25000,replace=T)
Datos3<-cbind.data.frame(It1,It2,It3,It4)
View(Datos3)
EscalaG<-Scale(Datos3) #Transforma los datos a otro formato#
AnalisisG<-ItemAnalysis(EscalaG, nfactors=1, method="polychoric",fm="ols") #Realiza cálculos análisis ítems politómicos#
ReportTable(AnalisisG)
AnalisisG$rely$alpha #Resumen Alfa#
?sample
?omega
Omega$alpha
AnalisisG<-ItemAnalysis(EscalaG, nfactors=1, method="polychoric") #Realiza cálculos análisis ítems politómicos#
ReportTable(AnalisisG) #Resumen Anáisis ítems#
AnalisisG$valid$bartlett #Test Bartlett#
AnalisisG$rely$alpha #Resumen Alfa#
AnalisisG$rely$alpha #Resumen Alfa#
print.reliability(AnalisisG$rely) #Resumen análisis Fiabilidad#
Omega<-omega(Datos, nfactors = 1, poly = TRUE,plot=TRUE, digits = 3) #Omega a partir de matríx de correlaciones Policóricas#
print(Omega) #Resutado Omega#
Omega$schmid$orthog #Resultado Análisis Factorial
Omega$alpha
Omega$omega.group
Omega$omega_h
Omega$omega_h
Omega$omega.tot
install.packages("ctv") #this downloads the task view package
library(ctv) #this activates the ctv package
install.views("Psychometrics")
describe(Datos3)
Describe(Datos3)
describeData(Datos3)
library(car)
library(stargazer)
library(effects)
library(ggplot2)
library(lsr)
library(apaTables)
library(readxl)
library(readxl)
A <- read_excel("~/Dropbox/Trabajo 2018/Asesoría Yolanda Sierra/Datos/Base segunda parte(Felipe).xlsx",
sheet = "Hoja1")
A <- read_excel("~/Dropbox/Trabajo 2018/Asesoría Yolanda Sierra/Datos/Base segunda parte(Felipe).xlsx",
sheet = "Hoja1")
A <- read_excel("~/Dropbox/Trabajo 2018/Asesoría Yolanda Sierra/Datos/Base segunda parte(Felipe).xlsx",
sheet = "Hoja1")
Modelo1<-lm(A$`Fatiga Total`~A$`Demandas del trabajo`+A$`Control Sobre el Trabajo (i)`)
Modelo2<-lm(A$`Fatiga Total`~A$`Control Sobre el Trabajo (i)`+A$`Control Sobre el Trabajo (i)`:A$`Apoyo Social`)
Modelo3<-lm(A$`Fatiga Total`~A$`Control Sobre el Trabajo (i)`+A$`Control Sobre el Trabajo (i)`:A$`Afrontamiento activo (Puntaje bruto)`)
Modelo4<-lm(A$Estrés ~A$`Demandas del trabajo`+A$`Control Sobre el Trabajo (i)`)
library(car)
library(stargazer)
library(effects)
library(ggplot2)
library(lsr)
library(apaTables)
library(readxl)
A <- read_excel("~/Dropbox/Trabajo 2018/Asesoría Yolanda Sierra/Datos/Base segunda parte(Felipe).xlsx",
sheet = "Hoja1")
Modelo1<-lm(A$`Fatiga Total`~A$`Demandas del trabajo`+A$`Control Sobre el Trabajo (i)`)
Modelo2<-lm(A$`Fatiga Total`~A$`Control Sobre el Trabajo (i)`+A$`Control Sobre el Trabajo (i)`:A$`Apoyo Social`)
Modelo3<-lm(A$`Fatiga Total`~A$`Control Sobre el Trabajo (i)`+A$`Control Sobre el Trabajo (i)`:A$`Afrontamiento activo (Puntaje bruto)`)
library(ggplot2)
?effect
?effect
Modelo2<-lm(A$`Fatiga Total`~A$`Control Sobre el Trabajo (i)`+A$`Control Sobre el Trabajo (i)`:A$`Apoyo Social`)
Interaccion <- effect(A$`Control Sobre el Trabajo (i)`:A$`Apoyo Social`,mod=Modelo2,se=TRUE, confidence.level=.95, typical=mean)
Interaccion<-as.data.frame(Interaccion)
Interaccion <- effect(mod=Modelo2,se=TRUE, confidence.level=.95, typical=mean)
Modelo2<-lm(A$`Fatiga Total`~A$`Control Sobre el Trabajo (i)`+A$`Control Sobre el Trabajo (i)`:A$`Apoyo Social`)
Modelo2
Interaccion <- effect("A$`Control Sobre el Trabajo (i)`:A$`Apoyo Social` ",mod=Modelo2,se=TRUE, confidence.level=.95, typical=mean)
Interaccion <- effect("Control Sobre el Trabajo:Apoyo Social` ",mod=Modelo2,se=TRUE, confidence.level=.95, typical=mean)
Interaccion<-as.data.frame(Interaccion)
knit_gv('
Factor -> a
Factor -> b
Factor -> c
Factor -> d
a[shape=rectangle]
b[shape=rectangle]
c[shape=rectangle]
d[shape=rectangle]
')
install.packages("DiagrammeR")
install.packages("DiagrammeRsvg")
library("DiagrammeRsvg")
library("DiagrammeR")
Factor ->Factor -> b
Factor -> b
Factor -> c
Factor -> d
a[shape=rectangle]
b[shape=rectangle]
c[shape=rectangle]
d[shape=rectangle]
')
knit_gv('
Factor ->a
Factor -> b
Factor -> c
Factor -> d
a[shape=rectangle]
b[shape=rectangle]
c[shape=rectangle]
d[shape=rectangle]
')
knit_gv("
Lateness -> Crashes
Lateness -> Speeding
Speeding -> Crashes
")
knit_gv("
Lateness -> Crashes
Lateness -> Speeding
Speeding -> Crashes
")
install.packages("DiagrammeRsvg")
install.packages("DiagrammeR")
library("DiagrammeR")
library("DiagrammeRsvg")
knit_gv("
Lateness -> Crashes
Lateness -> Speeding
Speeding -> Crashes
")
library("DiagrammeR")
library("DiagrammeRsvg")
2+2
library("DiagrammeRsvg")
library("DiagrammeR")
knit_gv("
Lateness -> Crashes
Lateness -> Speeding
Speeding -> Crashes
")
knit_gv?
knit_gv("
Lateness -> Crashes
Lateness -> Speeding
Speeding -> Crashes
")
?knit_gv
??knit_gv
library(DiagrammeRsvg)
library(DiagrammeR)
knit_gv("
Lateness -> Crashes
Lateness -> Speeding
Speeding -> Crashes
")
library(ggplot2)
library(DiagrammeR)
library(DiagrammeRsvg)
knit_gv <- function(code, filename=NULL, width=NULL, height=800){
assetpath <- "assets"
dir.create(assetpath, showWarnings = F)
if (!is.character(knitr::current_input())){
format <- "png"
} else {
if (stringr::str_detect(
knitr::opts_knit$get("rmarkdown.pandoc.to"), "beamer|latex|pdf")) {
format <- "pdf"
} else {
format <- "png"
}
}
if (!is.character(filename)){
filename <- file.path(assetpath, paste0(sample(1e6:1e7, 1), ".", format))
} else {
filename = paste0(filename, ".", format)
}
knit_gv <- function(code, filename=NULL, width=NULL, height=800){
assetpath <- "assets"
dir.create(assetpath, showWarnings = F)
if (!is.character(knitr::current_input())){
format <- "png"
} else {
if (stringr::str_detect(
knitr::opts_knit$get("rmarkdown.pandoc.to"), "beamer|latex|pdf")) {
format <- "pdf"
} else {
format <- "png"
}
}
if (!is.character(filename)){
filename <- file.path(assetpath, paste0(sample(1e6:1e7, 1), ".", format))
} else {
filename = paste0(filename, ".", format)
}
